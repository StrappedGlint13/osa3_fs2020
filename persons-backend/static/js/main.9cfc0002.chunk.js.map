{"version":3,"sources":["components/Person.js","components/Persons.js","components/Filter.js","components/PersonForm.js","components/Notification.js","components/Error.js","personService/persons.js","App.js","index.js"],"names":["Person","props","name","number","onClick","removePerson","Persons","persons","map","person","i","key","id","Filter","value","filter","onChange","handle","PersonForm","onSubmit","addnew","newname","handle1","newnumber","handle2","type","Notification","message","undefined","className","Error","error","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setFilter","setMessage","setError","personObject","useEffect","personService","console","log","length","filteredNames","toUpperCase","includes","event","target","per","find","n","changedPer","window","confirm","returnedPer","setTimeout","catch","concat","ReactDOM","render","document","getElementById"],"mappings":"uOAWeA,EATA,SAACC,GACd,OACI,6BACOA,EAAMC,KADb,IACoBD,EAAME,OAD1B,IACkC,4BAAQC,QAASH,EAAMI,cAAvB,cCOzBC,EARC,SAAAL,GAAK,OACf,6BACGA,EAAMM,QAAQC,KAAI,SAACC,EAAQC,GAAT,OAAe,kBAAC,EAAD,CAAQC,IAAKD,EAAGR,KAAMO,EAAOP,KAAMC,OAAQM,EAAON,OACpFE,aAAc,kBAAMJ,EAAMI,aAAaI,EAAOG,YCAvCC,EALA,SAACZ,GAAD,OACX,kDACoB,2BAAOa,MAAOb,EAAMc,OAAQC,SAAUf,EAAMgB,WCcrDC,EAfI,SAACjB,GAAD,OACnB,0BAAMkB,SAAUlB,EAAMmB,QACtB,sCACQ,2BAAON,MAAOb,EAAMoB,QAC1BL,SAAUf,EAAMqB,WAElB,wCACU,2BAAOR,MAAOb,EAAMsB,UAC5BP,SAAUf,EAAMuB,WAElB,6BACE,4BAAQC,KAAK,UAAb,UCAeC,EAZI,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACpB,OAAiB,OAAZA,QAAgCC,IAAZD,EAChB,KAGP,yBAAKE,UAAU,WACZF,ICMQG,EAZH,SAAC,GAAe,IAAbC,EAAY,EAAZA,MACb,OAAe,OAAVA,QAA4BH,IAAVG,EACd,KAGP,yBAAKF,UAAU,SACZE,I,gBCPHC,EAAU,eAsBD,EApBA,WAEb,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAkB5B,EAfA,SAAAC,GAEb,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa5B,EAVA,SAACzB,EAAI0B,GAElB,OADgBL,IAAMO,IAAN,UAAaR,EAAb,YAAwBpB,GAAM0B,GAC/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQ5B,EALA,SAACzB,GAEd,OADgBqB,IAAMQ,OAAN,UAAgBT,EAAhB,YAA2BpB,IAC5BuB,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCyH5BK,G,MAlIH,WAAO,IAAD,EACeC,mBAAS,IADxB,mBACRpC,EADQ,KACCqC,EADD,OAEgBD,mBAAS,IAFzB,mBAERE,EAFQ,KAECC,EAFD,OAGmBH,mBAAS,IAH5B,mBAGRI,EAHQ,KAGGC,EAHH,OAIaL,mBAAS,IAJtB,mBAIR5B,EAJQ,KAIAkC,EAJA,OAKeN,qBALf,mBAKRhB,EALQ,KAKCuB,EALD,OAMYP,qBANZ,mBAMRZ,EANQ,KAMDoB,EANC,KAQVC,EAAe,CACnBlD,KAAM2C,EACN1C,OAAQ4C,GAGVM,qBAAU,WACRC,IAEGnB,MAAK,SAAAC,GACJmB,QAAQC,IAAI,qBACZZ,EAAWR,QAAsB,IACjCmB,QAAQC,IAAI,SAAUjD,EAAQkD,OAAQ,WAG5C,IAyFMC,EAAgBnD,EAAQQ,QAAO,SAAAN,GAAM,OAAIA,EAAOP,KAAKyD,cAAcC,SAAS7C,EAAO4C,kBAEzF,OACE,6BACE,2CACA,kBAAC,EAAD,CAAchC,QAASA,IACvB,kBAAC,EAAD,CAAOI,MAAOA,IACd,kBAAC,EAAD,CAAQhB,OAAQA,EAAQE,OAXD,SAAC4C,GAC1BZ,EAAUY,EAAMC,OAAOhD,UAWrB,yCACA,kBAAC,EAAD,CAAYM,OAlGD,SAACyC,GACd,GAAItD,EAAQC,KAAI,SAACC,GAAD,OAAYA,EAAOP,KAAKyD,iBAAeC,SAASf,EAAQc,eAAgB,CACtF,IAAMI,EAAMxD,EAAQyD,MAAK,SAAAC,GAAC,OAAIA,EAAE/D,KAAKyD,gBAAkBd,EAAQc,iBACzDO,EAAU,eAAOH,GAEpBI,OAAOC,QAAP,UAAkBvB,EAAlB,4EACDS,EACQY,EAAWtD,GAAIwC,GACtBjB,MAAK,SAAAkC,GACNzB,EAAWrC,EAAQC,KAAI,SAAAyD,GAAC,OAAIA,EAAErD,KAAOyD,EAAYzD,GAAKmD,EAAMM,MAC5DnB,EAAW,+BAGXoB,YAAW,WACTpB,EAAW,QACR,QAENqB,OAAM,SAAAxC,GACLmB,EACE,kBAEFoB,YAAW,WACTpB,EAAW,QACV,KACHN,EAAWrC,EAAQQ,QAAO,SAAAkD,GAAC,OAAIA,EAAErD,KAAOsD,EAAWtD,eAIrD0C,EACQF,GACPjB,MAAK,SAAAC,GACNQ,EAAWrC,EAAQiE,OAAOpC,IAC1BU,EAAW,IACXE,EAAa,IACbE,EAAW,SAAD,OACCE,EAAalD,OAExBoE,YAAW,WACTpB,EAAW,QACR,SA2DuB5B,QArBL,SAACuC,GAC1Bf,EAAWe,EAAMC,OAAOhD,QAqBtBU,QAlBuB,SAACqC,GAC1Bb,EAAaa,EAAMC,OAAOhD,QAiBKO,QAASwB,EACtCtB,UAAWwB,IACX,uCACA,kBAAC,EAAD,CAASxC,QAASmD,EAAerD,aAxDhB,SAACO,GACpB,IAAMH,EAASF,EAAQyD,MAAK,SAAAC,GAAC,OAAIA,EAAErD,KAAOA,KAEvCuD,OAAOC,QAAP,iBAAyB3D,EAAOP,KAAhC,QACCoD,EACQ1C,GACPuB,KACDS,EAAWrC,EAAQQ,QAAO,SAAAN,GAAM,OAAIA,EAAOG,KAAOA,OACpDuB,OAEDoC,OAAM,SAAAxC,GACHoB,EAAS,kBAAD,OACY1C,EAAOP,KADnB,qCAGRoE,YAAW,WACTnB,EAAS,QACN,KACLP,EAAWrC,EAAQQ,QAAO,SAAAkD,GAAC,OAAIA,EAAErD,KAAOA,SAE1CsC,EAAW,WAAD,OACGzC,EAAOP,OAEpBoE,YAAW,WACTpB,EAAW,QACR,YCnGXuB,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.9cfc0002.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = (props) => {\n  return (\n      <div>\n            {props.name} {props.number} <button onClick={props.removePerson}> delete </button> \n      </div> \n\n  )\n}\n\nexport default Person","\nimport React from 'react'\nimport Person from './Person'\n\nconst Persons = props => \n      <div>\n        {props.persons.map((person, i) => <Person key={i} name={person.name} number={person.number}\n        removePerson={() => props.removePerson(person.id)}\n        />\n        )}\n      </div>\n\nexport default Persons","import React from 'react'\n\nconst Filter = (props) => \n    <div>\n      filter shown with <input value={props.filter} onChange={props.handle} />\n    </div>\n\nexport default Filter","\nimport React from 'react'\n\nconst PersonForm = (props) =>\n<form onSubmit={props.addnew}>\n<div>\n  name: <input value={props.newname}\n  onChange={props.handle1} />\n</div>\n<div>\n  number: <input value={props.newnumber}\n  onChange={props.handle2} />\n</div>\n<div>\n  <button type=\"submit\">add</button>\n</div>\n</form>\n\nexport default PersonForm\n","import React from 'react'\n\nconst Notification = ({ message }) => {\n    if ((message === null || message === undefined)) {\n      return null\n        }\n    return (\n      <div className=\"message\">\n        {message}\n      </div>\n    )\n    \n  }\n\n  export default Notification \n\n\n","import React from 'react'\n\nconst Error = ({ error }) => {\n    if ((error === null || error === undefined)) {\n      return null\n        }\n    return (\n      <div className=\"error\">\n        {error}\n      </div>\n    )\n    \n  }\n\n  export default Error \n\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, remove } ","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Notification from './components/Notification'\nimport Error from './components/Error'\nimport personService from './personService/persons'\nimport './index.css'\n\n\n\nconst App = () => {\n  const [ persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('')\n  const [ filter, setFilter] = useState('')\n  const [ message, setMessage] = useState()\n  const [ error, setError ] = useState()\n\n  const personObject = {\n    name: newName,\n    number: newNumber,\n  }\n\n  useEffect(() => {      \n    personService      \n      .getAll()      \n      .then(response => {        \n        console.log('promise fulfilled')        \n        setPersons(response)      })  }, [])  \n        console.log('render', persons.length, 'persons')\n\n\n  const addNew = (event) => {\n    if (persons.map((person) => person.name.toUpperCase()).includes(newName.toUpperCase())) {\n      const per = persons.find(n => n.name.toUpperCase() === newName.toUpperCase())\n      const changedPer = {...per}\n\n      if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)){\n        personService\n        .update(changedPer.id, personObject)\n        .then(returnedPer => {\n        setPersons(persons.map(n => n.id !== returnedPer.id ? per : returnedPer))\n        setMessage(\n          `Number changed successfully`\n        )\n        setTimeout(() => {\n          setMessage(null)\n          }, 5000) \n      })\n      .catch(error=> {\n        setMessage(\n          'Error occurred'\n        )\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n        setPersons(persons.filter(n => n.id !== changedPer.id))\n      })\n    }\n    } else {\n      personService\n      .create(personObject)\n      .then(response => {\n      setPersons(persons.concat(response))\n      setNewName('')\n      setNewNumber('')\n      setMessage(\n        `Added ${personObject.name}`\n      )\n      setTimeout(() => {\n        setMessage(null)\n        }, 5000)     \n    })\n  }\n\n\n  }\n\n  const removePerson = (id) => {\n    const person = persons.find(n => n.id === id)\n\n    if(window.confirm(`Delete ${person.name}?` )) {\n        personService\n        .remove(id)\n        .then(\n        setPersons(persons.filter(person => person.id !== id))   \n    ).then()\n\n    .catch(error => {\n        setError(\n          `Information of ${person.name} was already deleted from server`\n        )\n        setTimeout(() => {\n          setError(null)\n          }, 5000) \n        setPersons(persons.filter(n => n.id !== id))     \n      })\n      setMessage(\n        `Removed ${person.name}`\n      )\n      setTimeout(() => {\n        setMessage(null)\n        }, 5000)\n      \n}\n\n}\n\n\n  const handlePersonChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n  \n  const filteredNames = persons.filter(person => person.name.toUpperCase().includes(filter.toUpperCase()))\n\n  return (\n    <div>\n      <h2> Phonebook </h2>\n      <Notification message={message} />\n      <Error error={error} />\n      <Filter filter={filter} handle={handleFilterChange} />\n      <h2>add a new</h2>\n      <PersonForm addnew={addNew} handle1={handlePersonChange}\n      handle2={handleNumberChange} newname={newName} \n      newnumber={newNumber} />\n      <h2>Numbers</h2>\n      <Persons persons={filteredNames} removePerson={removePerson}/>\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}